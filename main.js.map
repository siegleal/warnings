{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/alert-card/alert-card.component.ts","./src/app/alert-card/alert-card.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/cap.service.ts","./src/app/count-card/count-card.component.ts","./src/app/count-card/count-card.component.html","./src/environments/environment.ts","./src/main.ts","./src/utils.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Alert, EventType, Point } from '../../utils';\nimport { Input, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'app-alert-card[alert]',\n  templateUrl: './alert-card.component.html',\n  styleUrls: ['./alert-card.component.css']\n})\nexport class AlertCardComponent implements OnInit {\n   @Input() alert!: Alert;\n   @ViewChild('hiddencontainer') hiddenContainer!: ElementRef<HTMLDivElement>;\n   @ViewChild('poly') polyCanvas!: ElementRef<HTMLCanvasElement>;\n\n\n  ngAfterViewInit(): void {\n    this.drawCanvas()\n  }\n  ngOnInit(): void {\n    \n  }\n\n  getTitle(): string {\n    return this.alert.getClassification().title;\n  }\n\n  drawCanvas(): void {\n    let ctx: CanvasRenderingContext2D | null = this.polyCanvas.nativeElement.getContext('2d');\n    if (ctx === null){\n      return\n    }\n    console.log('Drawing')\n    console.log('Polygon: ' + JSON.stringify(this.alert.polygon))\n    if (this.alert.polygon.length == 0) {\n      return \n    }\n    let adjusted = Point.adjustArray(this.alert.polygon);\n    console.log(adjusted)\n    ctx.strokeStyle = '#000';\n    ctx.lineWidth = 1;\n    ctx.transform(1, 0, 0, -1, 0, this.polyCanvas.nativeElement.height)\n    ctx.beginPath();\n    let current: Point = adjusted[0]\n    ctx.moveTo(current.x, current.y)\n    for(let index = 1; index < adjusted.length; index++){\n      current = adjusted[index]\n      ctx.lineTo(current.x, current.y);\n    }\n    ctx.closePath();\n    ctx.stroke();\n  }\n\n  shouldDisplayHazards(): boolean {\n    return (this.alert !== undefined &&\n      (this.alert.windGust > 0 ||\n        this.alert.hailSize > 0))\n  }\n\n  shouldDisplaySvrHazards(): boolean {\n    return (this.alert !== undefined &&\n      (this.alert.thunderstormDamageThreat.length > 0))\n  }\n\n  shouldDisplayTorHazards(): boolean {\n    return (this.alert !== undefined &&\n      (this.alert.tornadoDetection.length > 0))\n  }\n\n  toggleDescription(): void {\n    if (this.hiddenContainer.nativeElement.classList.contains('hidden')) {\n      this.hiddenContainer.nativeElement.classList.remove('hidden')\n    } else {\n      this.hiddenContainer.nativeElement.classList.add('hidden')\n    }\n  }\n\n  getClass(): string {\n    return this.alert.getClassification().css_class;\n  }\n\n  getTorDetectionClass(): string {\n    if (this.alert.eventType === EventType.SVR) {\n      return \"red\";\n    }\n    return \"\";\n  }\n}\n","<div *ngIf=\"alert\" class=\"{{ getClass() }} alert-card-container\" (click)=\"toggleDescription()\" >\n  <div class=\"header\">\n    <div class=\"title\">{{ getTitle() }}</div>\n    <div class=\"modifier\">{{ alert.getClassification().modifier }}</div>\n    <div class=\"subtitle\">\n      <div>From: {{alert.sender}}</div>\n      <div>{{alert.areaDesc}}</div>\n      <div>Expires in: {{alert.timeUntilExpiration()}} minutes</div>\n    </div>\n  </div>\n  <div class=\"hazards\" *ngIf=\"shouldDisplayHazards()\">\n  <div class=\"left hazard-item\" *ngIf=\"alert.hailSize > 0\">Hail: {{alert.hailSize}} in</div>\n  <div class=\"right hazard-item\" *ngIf=\"alert.windGust > 0\">Wind gusts: {{alert.windGust}} MPH</div>\n  </div>\n  <div class=\"svrHazards\" *ngIf=\"shouldDisplaySvrHazards()\">\n    <div *ngIf=\"alert.thunderstormDamageThreat\">T-Storm Damage: {{alert.thunderstormDamageThreat}}</div>\n  </div>\n  <div class=\"torHazards\" *ngIf=\"shouldDisplayTorHazards()\">\n    <div *ngIf=\"alert.tornadoDetection\">\n      <span  class=\"{{ getTorDetectionClass() }}\" >\n        Tornado: {{alert.tornadoDetection}}\n      </span></div>\n    <div *ngIf=\"alert.tornadoDamageThreat\">Tornado damage: {{alert.tornadoDamageThreat}}</div>\n  </div>\n    <div *ngIf=\"alert.polygon\" class=\"polygon\">\n      <canvas #poly width=\"50px\" height=\"50px\" id=\"polygon\"></canvas>\n    </div>\n  <div #hiddencontainer class=\"hidden\">\n    <div class=\"desc\">{{ alert.description }}</div>\n  </div>\n</div>\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { CapService } from './cap.service';\nimport { Alert, Classification, Entry } from '../utils';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'warnings-ng';\n  alerts: Alert[]\n  loaded: boolean = false;\n  @ViewChild('counts') counts!: ElementRef<HTMLDivElement>;\n  @ViewChild('plus') plus!: ElementRef<HTMLDivElement>;\n  @ViewChild('minus') minus!: ElementRef<HTMLDivElement>;\n  classes: Classification[] = [\n    Classification.SWS,\n    Classification.SVR,\n    Classification.SVRCON,\n    Classification.SVRDES,\n    Classification.TORRDR,\n    Classification.TOROBS,\n    Classification.TORCON,\n    Classification.TORCAT,\n    Classification.TORPDS,\n    Classification.TORE\n  ]\n\n  constructor(private capService: CapService) {\n    this.alerts = []\n  }\n\n  toggleHidden(element: ElementRef): void {\n    if (element.nativeElement.classList.contains('hidden')){\n      element.nativeElement.classList.remove('hidden')\n    } else {\n      element.nativeElement.classList.add('hidden')\n    }\n  }\n\n  showCounts(): void {\n    this.toggleHidden(this.counts)\n    this.toggleHidden(this.plus)\n    this.toggleHidden(this.minus)\n  }\n\n  getCounts(){\n    let arr: Entry[] = [];\n    this.classes.forEach(x => {\n      arr.push(new Entry(x, this.alerts.filter(y => y.getClassification() === x).length))\n    })\n    return arr;\n  }\n\n  getCount(c: Classification) {\n    return this.alerts.filter(x => x.getClassification() === c).length\n  }\n\n\n  ngOnInit(): void {\n    this.capService.getAlerts()\n      .then((alerts: Alert[]) => {\n        this.alerts = alerts;\n        console.log('Setting loaded to true')\n        this.loaded = true;\n      })\n  }\n}","<div id=\"container\">\n  <div class=\"loading\" *ngIf=\"!loaded\">Loading...</div>\n  <div class=\"loading\" *ngIf=\"loaded && alerts.length == 0\">No Results</div>\n  <div class=\"counts-container\" *ngIf=\"loaded && alerts.length > 0\" >\n  <div class=\"counts-header\"  (click)=\"showCounts()\">\n    <div >Counts</div>\n    <div #plus class=\"icon\">+</div>\n    <div #minus class=\"icon hidden\">-</div>\n  </div>\n  <div #counts class=\"counts hidden\">\n    <app-count-card *ngFor=\"let e of getCounts()\" [entry]=\"e\"></app-count-card>\n  </div>\n  </div>\n<app-alert-card *ngFor=\"let alert of alerts\" [alert]=\"alert\" ></app-alert-card>\n</div>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { AlertCardComponent } from './alert-card/alert-card.component';\nimport { CountCardComponent } from './count-card/count-card.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    AlertCardComponent,\n    CountCardComponent,\n  ],\n  imports: [\n    BrowserModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Alert, AlertsApi, EventType, Feature } from '../utils';\nimport * as $ from 'jquery';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CapService {\n  URLS: {[key: string]: string} = {\n    \"active\":\"http://api.weather.gov/alerts/active?status=actual&event=Tornado%20Warning,Severe%20Thunderstorm%20Warning,Special%20Weather%20Statement\", \n    \"tornadoes\":\"http://api.weather.gov/alerts?event=Tornado%20Warning\"\n  }\n\n  constructor() { }\n\n  private processJson(data: AlertsApi, resolve: Function, reject: Function): void {\n    let features: Feature[] = data.features;\n    resolve(\n      features\n        .filter(elem => {\n          if (elem.properties.event === 'Special Weather Statement') {\n            return elem.properties.description.includes('thunderstorm');\n          }\n          return true;\n        })\n        .map(f => new Alert(f))\n        .sort((a, b) => b.priority() - a.priority())\n    )\n  }\n\n  getAlerts(): Promise<Alert[]> {\n\n    console.log('loading...')\n    return new Promise<Alert[]>((resolve, reject) => {\n      console.time('local-storage-get')\n        chrome.storage.local.get(['source', 'file'])\n          .then((result: { [key: string]: string }) => {\n            const source = result['source'];\n            console.timeEnd('local-storage-get')\n            console.log(\"Current source is: \" + source)\n\n            if (source === 'file') {\n              const filename = result['file']\n              console.log('Filename is ', filename)\n              $.getJSON(filename).done(\n                (data: AlertsApi) => {\n                  this.processJson(data, resolve, reject);\n                }\n              )\n\n            } else {\n\n              const url = this.URLS[source];\n              const headers = { 'method': 'GET', 'headers': { 'Accept': 'application/geo+json' } }\n\n              console.log('URL: ', url);\n              console.log('HEADERS: ', headers);\n\n              fetch(url, headers)\n                .then(response => response.json())\n                .then((json: AlertsApi) => this.processJson(json, resolve, reject))\n            }\n          })\n    })\n\n  }\n\n}","import { Component, Input, OnInit} from '@angular/core';\nimport { Entry } from \"../../utils\";\n\n@Component({\n  selector: 'app-count-card',\n  templateUrl: './count-card.component.html',\n  styleUrls: ['./count-card.component.css']\n})\nexport class CountCardComponent implements OnInit {\n  @Input() entry!: Entry;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"{{entry.cls.css_class}} line\">\n  <div class=\"left\">\n    {{ entry.cls.modifier + ' ' + entry.cls.title }}\n  </div>\n  <div class=\"right\">\n    {{ entry.count }}\n  </div>\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import { BoundElementProperty } from \"@angular/compiler\";\n\nexport class EventType {\n  text: string\n  cssClass: string\n  priority: number\n\n  constructor(text: string, cssClass: string, pri: number){\n    this.text = text;\n    this.cssClass = cssClass;\n    this.priority = pri\n  }\n\n  static TOR: EventType =\n        new EventType(\"Tornado Warning\", \"tor\", 2);\n  static SVR: EventType =\n        new EventType(\"Severe Thunderstorm Warning\", \"svr\", 1);\n  static SWS: EventType =\n        new EventType(\"Special Weather Statement\", \"spec\", 0);\n  static OTHER: EventType =\n        new EventType(\"Other\", \"\", -1);\n\n  static fromCaps(capsFeature: any){\n    switch(capsFeature.properties.event){\n      case this.TOR.text:\n        return this.TOR;\n      case this.SVR.text:\n        return this.SVR;\n      case this.SWS.text:\n        return this.SWS;\n      default:\n        return this.OTHER;\n    }\n    \n  }\n}\n\nexport class BoundingRectangle {\n  minX: number = 0;\n  minY: number = 0;\n  maxX: number = 0;\n  maxY: number = 0;\n}\n\nexport class Point {\n  x: number\n  y: number\n\n  constructor(arr: number[]){\n    this.x = arr[0]\n    this.y = arr[1]\n  }\n\n  static fromFeature(feature: any): Point[] {\n    if (feature.geometry === null || feature.geometry.coordinates === null){\n      return [];\n    }\n    console.log('Coordinates: ' + JSON.stringify(feature.geometry.coordinates))\n    console.log('Coordinates inner: ' + JSON.stringify(feature.geometry.coordinates[0]))\n    return feature.geometry.coordinates[0].map((coord: any) => new Point(coord))\n  }\n\n  static getBoundingRectangle(arr: Point[]): BoundingRectangle {\n    let result: BoundingRectangle = new BoundingRectangle();\n    result.minX = Math.min(...arr.map(e => e.x))\n    result.minY = Math.min(...arr.map(e => e.y))\n    result.maxX = Math.max(...arr.map(e => e.x))\n    result.maxY = Math.max(...arr.map(e => e.y))\n    return result;\n  }\n\n  static adjustArray(arr: Point[]): Point[]{\n    let boundingRect: BoundingRectangle = Point.getBoundingRectangle(arr);\n    let longestDiff = Math.max(boundingRect.maxX-boundingRect.minX, boundingRect.maxY - boundingRect.minY)\n    console.log('Longest diff: ' + longestDiff);\n    let factor = longestDiff / 50.0 * 100.0;\n    console.log('Factor: ' + factor);\n    return arr.map(p => new Point([Math.floor((p.x - boundingRect.minX) * 100.0 / factor), Math.floor((p.y - boundingRect.minY) * 100.0 / factor)]));\n  }\n}\n\nexport class Alert {\n  event: string\n  description: string\n  areaDesc: string\n  effective: Date\n  expires: Date\n  sender: string\n  windGust: number\n  hailSize: number\n  tornadoDetection: string\n  tornadoDamageThreat: string\n  thunderstormDamageThreat: string\n  eventType: EventType\n  polygon: Point[]\n\n  constructor(feature: Feature) {\n    let props = feature.properties;\n    this.event = props.event;\n    this.eventType = EventType.fromCaps(feature)\n    this.description = props.description || \"\";\n    this.areaDesc = props.areaDesc;\n    this.effective = new Date(props.effective)\n    this.expires = new Date(props.expires)\n    this.sender = props.senderName\n    this.polygon = Point.fromFeature(feature)\n\n    this.windGust = 0;\n    if ('maxWindGust' in props.parameters) {\n      this.windGust = props.parameters.maxWindGust[0].slice(0,-4).replace('Up to', '')\n    }\n    this.hailSize = 0;\n    if ('maxHailSize' in props.parameters) {\n      this.hailSize = props.parameters.maxHailSize[0]\n    }\n    this.tornadoDetection = ''\n    if ('tornadoDetection' in props.parameters) {\n      this.tornadoDetection = props.parameters.tornadoDetection[0]\n    }\n    this.thunderstormDamageThreat = ''\n    if ('thunderstormDamageThreat' in props.parameters) {\n      this.thunderstormDamageThreat = props.parameters.thunderstormDamageThreat[0]\n    }\n    this.tornadoDamageThreat = ''\n    if ('tornadoDamageThreat' in props.parameters) {\n      this.tornadoDamageThreat = props.parameters.tornadoDamageThreat[0]\n    }\n  }\n  getClassification(): Classification {\n    switch (this.eventType) {\n      case EventType.SWS:\n        return Classification.SWS;\n      case EventType.SVR:\n        switch (this.thunderstormDamageThreat) {\n          case \"CONSIDERABLE\":\n            return Classification.SVRCON;\n          case \"DESTRUCTIVE\":\n            return Classification.SVRDES;\n          default:\n            return Classification.SVR;\n        }\n      case EventType.TOR:\n        if ( this.description && this.description.toLowerCase().includes('tornado emergency')){\n            return Classification.TORE;\n        }\n        if (this.description && this.description.toLowerCase().includes('particularly dangerous situation')){\n            return Classification.TORPDS;\n        }\n        if (this.tornadoDamageThreat === \"CATASTROPHIC\") {\n            return Classification.TORCAT;\n        }\n        if (this.tornadoDamageThreat === \"CONSIDERABLE\") {\n            return Classification.TORCON;\n        }\n        if (this.tornadoDetection === \"OBSERVED\") {\n            return Classification.TOROBS;\n        }\n            return Classification.TORRDR;\n      default:\n        console.log(\"Could not classify alert: \" + this)\n        return Classification.UNKNOWN;\n    }\n  }\n\n  timeUntilExpiration(): number {\n    const now: number = (new Date).getTime();\n    const diff = this.expires.getTime() - now;\n    return Math.round(diff / 1000 / 60);\n  }\n\n  priority(): number {\n    //https://www.weather.gov/media/alert/CAP_v12_guide_05-16-2017.pdf\n    let current = this.eventType.priority\n    if (this.thunderstormDamageThreat.length > 0) {\n      switch (this.thunderstormDamageThreat) {\n        case \"CONSIDERABLE\":\n          current += .1\n          break;\n        case \"DESTRUCTIVE\":\n          current += .2\n          break;\n        default:\n          break;\n      }\n    }\n    //TOR only\n    if (this.tornadoDamageThreat.length > 0){\n      switch (this.tornadoDamageThreat){\n        case \"CONSIDERABLE\":\n          current += .1\n          break;\n        case \"CATASTRPHIC\":\n          current += .2\n          break;\n        default:\n          break;\n      }\n    }\n    // possible on SVR\n    if (this.tornadoDetection.length > 0){\n      switch (this.tornadoDetection){\n        case \"POSSIBLE\":\n          current += .05\n          break;\n        case \"RADAR INDICATED\":\n          current += .2\n          break;\n        case \"OBSERVED\":\n          current += .3\n          break;\n        default:\n          break;\n      }\n    }\n\n    return current\n  }\n}\n\n\nexport class Classification {\n  static readonly TORE =   new Classification('tor-emergency', 'Tornado Warning','TORNADO EMERGENCY');\n  static readonly TORPDS = new Classification('tor-pds','Tornado Warning', 'PDS');\n  static readonly TORCAT = new Classification('tor-catastrophic','Tornado Warning', 'Catastrophic');\n  static readonly TORCON = new Classification('tor-considerable','Tornado Warning', 'Considerable');\n  static readonly TOROBS = new Classification('tor-observed','Tornado Warning', 'Observed');\n  static readonly TORRDR = new Classification('tor-radar', 'Tornado Warning','Radar Indicated');\n  static readonly SVRDES = new Classification('svr-destructive', 'Severe Thunderstorm Warning','Destructive');\n  static readonly SVRCON = new Classification('svr-considerable', 'Severe Thunderstorm Warning','Considerable');\n  static readonly SVR =    new Classification('svr', 'Severe Thunderstorm Warning');\n  static readonly SWS =    new Classification('sws', 'Special Weather Statement');\n  static readonly UNKNOWN =    new Classification('', 'Unknown Event');\n\n\n  constructor(readonly css_class: string, readonly title: string, readonly modifier: string = '') {}\n\n}\n\nexport interface Feature {\n  id: string\n  type: string\n  geometry: Geometry\n  properties: Properties\n\n}\n\nexport interface AlertsApi {\n  type: string\n  features: any[]\n  title: string\n  updated: string\n}\n\ninterface Geometry {\n  type: string\n  coordinates: any //dont care\n}\n\ninterface Properties {\n  id: string\n  areaDesc: string\n  geocode: any\n  affectedZones: string[]\n  references: string[]\n  sent: string\n  effective: string\n  onset: string\n  expires: string\n  ends: string\n  status: string\n  messageType: string\n  category: string\n  severity: string\n  certainty: string\n  urgency: string\n  event: string\n  sender: string\n  senderName: string\n  headline: string\n  description: string\n  instruction: string\n  response: string\n  parameters: any\n}\n\nexport class Entry {\n  cls: Classification;\n  count: number;\n\n  constructor(cls: Classification, count: number) {\n    this.cls = cls;\n    this.count = count;\n  }\n}"],"names":[],"sourceRoot":"webpack:///"}